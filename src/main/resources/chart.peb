<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lines of Code History</title>
    <link rel="stylesheet" href="static/styles.css">
    <script src="static/bundle.js"></script>
    <script src="static/chart-app.js"></script>
</head>
<body class="bg-linear-to-br from-slate-100 to-slate-300 min-h-screen flex flex-col">
<main class="flex-1 flex flex-col w-full max-w-full py-10 px-2 sm:px-6">
    <h1 class="text-3xl font-bold text-slate-800 mb-8 text-center tracking-tight">lines of code per language over time
        for the projects in <a href="{{groupUrl}}" class="text-blue-700 hover:underline focus:underline">{{groupFullName}}</a>
    </h1>
    <div class="flex justify-center gap-4 mb-6 flex-wrap">
        <button id="showAllBtn"
                class="px-5 py-2 rounded bg-blue-600 text-white font-semibold shadow-md hover:bg-blue-700 transition">
            Show all languages
        </button>
        <button id="hideAllBtn"
                class="px-5 py-2 rounded bg-gray-400 text-white font-semibold shadow-md hover:bg-gray-500 transition">
            Hide all languages
        </button>
        <div class="flex items-center gap-2">
            <label for="fromDatePicker" class="font-semibold text-slate-700">Hide entries older than:</label>
            <input type="date" id="fromDatePicker"
                   class="px-3 py-2 rounded border border-slate-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
    </div>
    <div class="bg-white shadow-md p-6 border border-slate-200 flex-1 flex flex-col min-h-0 w-full max-w-full">
        <canvas id="scatterChart" class="w-full h-full min-h-0 flex-1 block mx-auto"
                style="height:100%!important;max-width:100%;"></canvas>
    </div>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            // @formatter:off
            const chartData = {{chartData | raw}};
            const markers = {{markers | raw}};
            // @formatter:on

            initializeChart(chartData, markers);
        });
    </script>
</main>
<footer class="py-6 bg-slate-100 shadow-inner border-t border-slate-300 w-full text-center text-slate-500 text-sm mt-0">
    <p>Generated on <span class="font-semibold">{{generatedAt}}</span> in <a href="{{ciProjectUri}}"
                                                                             class="text-blue-700 hover:underline focus:underline">this
        repository</a></p>
</footer>
</body>
</html>
